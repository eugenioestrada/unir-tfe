@*
    GameStack - Flexible layout component for stacking elements with consistent spacing
    
    Usage:
    <GameStack Direction="vertical" Gap="2">
        <div>Item 1</div>
        <div>Item 2</div>
        <div>Item 3</div>
    </GameStack>
    
    Props:
    - Direction: vertical, horizontal (default: vertical)
    - Gap: 0, 1, 2, 3, 4 (corresponds to spacing scale, default: 2)
    - AlignItems: start, center, end, stretch (default: stretch)
    - JustifyContent: start, center, end, between, around (default: start)
    - ChildContent: Stack content
*@

<div class="@GetCssClasses()" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [Parameter]
    public string Direction { get; set; } = "vertical";
    
    [Parameter]
    public string Gap { get; set; } = "2";
    
    [Parameter]
    public string? AlignItems { get; set; }
    
    [Parameter]
    public string? JustifyContent { get; set; }
    
    [Parameter]
    public RenderFragment? ChildContent { get; set; }
    
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }
    
    private string GetCssClasses()
    {
        var classes = new List<string> { "game-stack" };
        
        // Direction
        classes.Add(Direction == "horizontal" ? "game-stack-horizontal" : "game-stack-vertical");
        
        // Gap
        if (!string.IsNullOrEmpty(Gap))
        {
            classes.Add($"gap-{Gap}");
        }
        
        // Align Items
        if (!string.IsNullOrEmpty(AlignItems))
        {
            classes.Add($"align-items-{AlignItems}");
        }
        
        // Justify Content
        if (!string.IsNullOrEmpty(JustifyContent))
        {
            classes.Add($"justify-content-{JustifyContent}");
        }
        
        return string.Join(" ", classes);
    }
}
